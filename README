INTRODUCTION

The purpose of the rails cookbook is to be able to generate a new rails project
without polluting your host machine with the rails gem and without any hassle.
Note that the cookbook only supports rails 3 and above.

The rails recipe does make some assumptions about what technologies you'll be
using for your rails stack (haml, rspec, etc.). Feel free to edit the recipes if
you'd prefer to use others. You will be able to choose between databases (see
the customization section) by changing which recipes are used by default.

USAGE

Step 0 - Make sure Virtualbox, vagrant and the base box are installed:

Install Virtualbox (download from the Virtualbox website)
$ sudo gem install vagrant
$ vagrant box add lucid19 http://dl.dropbox.com/u/8443957/lucid19.box

Step 1 - Setup the project directory:

$ mkdir /path/to/project_name
$ cp Vagrantfile /path/to/project_name/.
$ cp -r cookbooks /path/to/project_name/.

Step 2 - Edit the Vagrantfile:

$ cd /path/to/project_name
Edit the Vagrantfile, replacing the app name on these two lines:
   => vm.name = "App Name"
   => :rails => { :app_name => "app_name" }

Step 3 - Provision the box:

$ vagrant up

Step 4 - Possibly reload:

Sometimes apache won't restart properly on the first pass, so just reload
$ vagrant reload

Once apache is up and running you should should be able to visit
http://192.168.34.10/ and you'll get the default rails index page. To execute
commands within the box use "vagrant ssh". More info on how to use vagrant is
available at http://www.vagrantup.com/

CUSTOMIZATION

The rails cookbook has two recipes for databases: one for mysql and one for
postgresql. You select which database you want to use by switching which recipe
is included in the application recipe (cookbooks/application/recipes/default.rb).

For mysql include the following:
require_recipe "rails::mysql"

For postgresql include the following:
require_recipe "rails::postgresql"

Make sure not to include both and that the database recipe is specified before
the apache_passenger recipe:
require_recipe "rails::apache_passenger"

The Vagrantfile currently only specifies the app name, but other configurable
options include "version" (the rails version, defaults to 3.1.0) "root" (rails
root folder, defaults to /vagrant), "user" (the system user that will be using
rails, defaults to vagrant), "group" (the user's group), "db_user" (the database
username, defaults to app name), "db_pass" (the database password, defaults to
app name).
